[gd_scene load_steps=9 format=3 uid="uid://dfe7r8l5jn4qe"]

[ext_resource type="Script" path="res://src/game.gd" id="1_qyeys"]
[ext_resource type="TileSet" uid="uid://ca7clh3efb1t0" path="res://src/board/tiles.tres" id="2_3888b"]
[ext_resource type="PackedScene" uid="uid://djykhlcwbn25l" path="res://src/board/card.tscn" id="2_ed1hm"]
[ext_resource type="Script" path="res://src/queue/DataEventQueue.gd" id="2_k5nvo"]
[ext_resource type="Script" path="res://src/board/BoardCamera.gd" id="5_2tqqg"]
[ext_resource type="Script" path="res://src/board/Board.gd" id="5_hyufg"]
[ext_resource type="PackedScene" uid="uid://cfipnqrkop3v0" path="res://src/ui/gui.tscn" id="6_vpecd"]
[ext_resource type="Script" path="res://src/ui/Pause.gd" id="7_d0s3h"]

[node name="Game" type="Node2D" node_paths=PackedStringArray("board", "action_timer", "countdown", "gui")]
y_sort_enabled = true
script = ExtResource("1_qyeys")
board = NodePath("Board")
action_timer = NodePath("ActionTimer")
countdown = NodePath("CanvasLayer/GUI/Game/Countdown")
gui = NodePath("CanvasLayer/GUI")

[node name="DataEventQueue" type="Node" parent="."]
script = ExtResource("2_k5nvo")

[node name="Board" type="TileMap" parent="." node_paths=PackedStringArray("camera") groups=["board"]]
z_index = -1
tile_set = ExtResource("2_3888b")
rendering_quadrant_size = 64
format = 2
layer_0/tile_data = PackedInt32Array(65535, 65537, 1)
script = ExtResource("5_hyufg")
card_scene = ExtResource("2_ed1hm")
camera = NodePath("Camera2D")

[node name="Camera2D" type="Camera2D" parent="Board" node_paths=PackedStringArray("tilemap")]
script = ExtResource("5_2tqqg")
tilemap = NodePath("..")

[node name="ActionTimer" type="Timer" parent="."]
wait_time = 6.0

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="GUI" parent="CanvasLayer" instance=ExtResource("6_vpecd")]

[node name="Pause" type="Control" parent="CanvasLayer"]
process_mode = 3
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("7_d0s3h")

[node name="ColorRect" type="ColorRect" parent="CanvasLayer/Pause"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0.705882)

[node name="CenterContainer" type="CenterContainer" parent="CanvasLayer/Pause"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/Pause/CenterContainer"]
layout_mode = 2

[node name="Resume" type="Button" parent="CanvasLayer/Pause/CenterContainer/VBoxContainer"]
layout_mode = 2
text = "RESUME_GAME"

[node name="Back" type="Button" parent="CanvasLayer/Pause/CenterContainer/VBoxContainer"]
layout_mode = 2
text = "BACK_MENU"

[connection signal="locked" from="DataEventQueue" to="." method="_on_data_event_queue_locked"]
[connection signal="selected" from="Board" to="." method="_on_board_selected"]
[connection signal="pressed" from="CanvasLayer/Pause/CenterContainer/VBoxContainer/Resume" to="CanvasLayer/Pause" method="_on_resume_pressed"]
[connection signal="pressed" from="CanvasLayer/Pause/CenterContainer/VBoxContainer/Back" to="CanvasLayer/Pause" method="_on_back_pressed"]
